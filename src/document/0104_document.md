# 課題対応(2024/01/04)

## 課題の対応目的

今後は、React をメインで技術を伸ばしていきたいと思っているため、忘れないよう復習の意味を行う
作成するものは、Angular の公式チュートリアルと同様のものを React に置き換える

## スケジュール

| 時間  | 作業内容                                    |
| ----- | ------------------------------------------- |
| 9:00  | 実装(Home.tsx 及び配下コンポーネント)       |
| 14:20 | 昼休憩                                      |
| 15:20 | 実装(HomeDetail.tsx 及び配下コンポーネント) |
| 16:50 | まとめ                                      |

## 実施手順

1. create-react-app を使用して React アプリのひな型をローカル環境に作成
2. 環境構築（使用言語のバージョンアップ対応、npm install 時に起きたエラーの解消）
3. 各ページを分けて実装
4. 同時に、コンポーネント化するために分ける際に意味のあるよう意識
5. 同時に、スタイルを各コンポーネントにあてる
6. 最後に動作部分を実装
    1. 初期表示時のデータ取得
    2. 文字列での絞り込み機能
    3. 画面遷移
    4. フォーム送信機能（ログ表示のみ）
7. 所感等のまとめ作業

## 問題

-   svg ファイルが NotFound となる
    -   Angular と違い、assets 配下の場合は、import を挟まないと読み込めない
    -   public 配下の場合は、src 属性の直接パスを指定で読み込める
-   css カスタムプロパティが機能しない
    -   Emotion というライブラリを使用すれば機能はしそう
        -   https://scrawledtechblog.com/react-emotion-giji/
-   css の疑似要素クラスが動かないものがあった
    -   :root
    -   調べてもわからなかった点、影響範囲も少ないため必要なクラスに記述する形で対応

## 所感

-   React を用いて改めてアプリを作ったが、Angular と Vue の記法と混ざってしまいごちゃごちゃとなってしまう部分が多々あった。(ファイル構成やコンポーネントの繰り返し処理等)、そのため className やコンポーネントの繰り返し、マウスイベント部分等調べながら対応した
-   実施手順の 5. で意味のあるコンポーネント分けとあるが以下の考え方で分割
    -   ヘッダー部、コンテンツ部と大まかに分ける
    -   繰り返し部分をまとめる箇所、繰り返し対象（再利用可能な箇所）も分ける
    -   情報表示部分、ユーザが操作する部分も分ける
-   データが取れない等のエラーハンドリングを実装しようとしたが、時間が無くなりそうなため対応なし
    -   エラーページの用意、エラーメッセージの表示等を考えていた

### Angular と React の違い

-   プロジェクト作成
    -   Angular
        -   アプリ作成時には使わなかったが、CLI 上で質問形式でプロジェクトのひな型が作れる
            -   https://angular.io/tutorial/tour-of-heroes/toh-pt0
    -   React
        -   CLI 上でプロジェクトのひな型が作れる。細かい部分はオプションを使用するので学習コストが必要
            -   https://create-react-app.dev/docs/getting-started
-   ファイル構成
    -   Angular
        -   html,js,css それぞれ分けて実装（コマンドでプロジェクト作成時にその形となっていたためその認識）
    -   React
        -   JSX を用いて html 部と js 部を 1 ファイルで実装、css はまとめても別ファイルも可
-   実装面
    -   Angular
        -   独自の記法が多々あったので学習コストが React,Vue、Angular の中で一番大きいと思った（Vue→React→Angular の順で触ったので React がとっつきやすいのもあった気がする）
            -   onClick でなく、(click)や\*ngFor で繰り返し等
            -   学習コストについて調べたところ Vue.js < React < Angular という意見が多かったため、あながち間違いではなさそう
        -   Vue と同じく双方向のため、その箇所の実装は楽
        -   参照コンポーネントやルーティングの箇所で参照先を全検索で調べたりと不便だと思った（拡張機能で改善可能？）
        -   今回のアプリでは使用しなかったが、状態管理を行うための service を用いた DI がとっつきにくそうと感じた
    -   React
        -   JSX が一番の特徴
        -   css の実装方法が数種類あるので選別する必要があるため少しややこしい
        -   class 名の設定のための className を完全に忘れていたのでこの点もややこしい
            -   補足めも：jsx のため、html 部で記述する class が js の class と衝突してしまうため差別化している
        -   単方向のため双方向としたい場合は回りくどい形で実装する必要がある(Home.tsx, SearchArea.tsx 参照)
        -   参照コンポーネントや html 部で参照している state 等、実装時に参照先を見れることがメリット
        -   ルーティングや状態管理では使用ライブラリにばらつきがあるため都度学習が必要
            -   今回は、react-router-dom を使用（状態管理はしていない）
